{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/roganoalien/git_projects/transparenta-2021/globalState/states/transparenta-state.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, createContext, useEffect } from 'react';\nexport var TransparentaContext = /*#__PURE__*/createContext();\nexport function TransparentaProvider(_ref) {\n  _s();\n\n  var children = _ref.children;\n\n  var _useState = useState(false),\n      transOpen = _useState[0],\n      setTransOpen = _useState[1];\n\n  var _useState2 = useState(null),\n      footer = _useState2[0],\n      setFooter = _useState2[1];\n\n  useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var data;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!localStorage.getItem('footer')) {\n              _context.next = 5;\n              break;\n            }\n\n            setFooter(localStorage.getItem('footer'));\n            return _context.abrupt(\"return\", null);\n\n          case 5:\n            _context.next = 7;\n            return fetch(\"\".concat(process.env.API_URL, \"/footer\")).then(function (res) {\n              return res.json();\n            })[\"catch\"](function (err) {\n              return console.log(err);\n            });\n\n          case 7:\n            data = _context.sent;\n            localStorage.setItem('footer', data);\n            setFooter(footer);\n            return _context.abrupt(\"return\", null);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), []);\n\n  var getFooter = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!localStorage.getItem('footer')) {\n                _context2.next = 4;\n                break;\n              }\n\n              setFooter(localStorage.getItem('footer'));\n              _context2.next = 9;\n              break;\n\n            case 4:\n              _context2.next = 6;\n              return fetch(\"\".concat(process.env.API_URL, \"/footer\")).then(function (res) {\n                return res.json();\n              })[\"catch\"](function (err) {\n                return console.log(err);\n              });\n\n            case 6:\n              data = _context2.sent;\n              localStorage.setItem('footer', data);\n              setFooter(footer);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getFooter() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxDEV(TransparentaContext.Provider, {\n    value: {\n      transOpen: transOpen,\n      setTransOpen: setTransOpen,\n      footer: footer,\n      getFooter: getFooter\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 3\n  }, this);\n}\n\n_s(TransparentaProvider, \"60qym9w1581Ryhl5u87XBIBGQEQ=\");\n\n_c = TransparentaProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"TransparentaProvider\");","map":{"version":3,"sources":["/Users/roganoalien/git_projects/transparenta-2021/globalState/states/transparenta-state.js"],"names":["React","useState","createContext","useEffect","TransparentaContext","TransparentaProvider","children","transOpen","setTransOpen","footer","setFooter","localStorage","getItem","fetch","process","env","API_URL","then","res","json","err","console","log","data","setItem","getFooter"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,aAA1B,EAAyCC,SAAzC,QAA0D,OAA1D;AAEA,OAAO,IAAMC,mBAAmB,gBAAGF,aAAa,EAAzC;AAEP,OAAO,SAASG,oBAAT,OAA4C;AAAA;;AAAA,MAAZC,QAAY,QAAZA,QAAY;;AAAA,kBAChBL,QAAQ,CAAC,KAAD,CADQ;AAAA,MAC3CM,SAD2C;AAAA,MAChCC,YADgC;;AAAA,mBAEtBP,QAAQ,CAAC,IAAD,CAFc;AAAA,MAE3CQ,MAF2C;AAAA,MAEnCC,SAFmC;;AAIlDP,EAAAA,SAAS,wEAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBACLQ,YAAY,CAACC,OAAb,CAAqB,QAArB,CADK;AAAA;AAAA;AAAA;;AAERF,YAAAA,SAAS,CAACC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAD,CAAT;AAFQ,6CAGD,IAHC;;AAAA;AAAA;AAAA,mBAKWC,KAAK,WAAIC,OAAO,CAACC,GAAR,CAAYC,OAAhB,aAAL,CACjBC,IADiB,CACZ,UAACC,GAAD;AAAA,qBAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,aADY,WAEX,UAACC,GAAD;AAAA,qBAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT;AAAA,aAFW,CALX;;AAAA;AAKFG,YAAAA,IALE;AAQRZ,YAAAA,YAAY,CAACa,OAAb,CAAqB,QAArB,EAA+BD,IAA/B;AACAb,YAAAA,SAAS,CAACD,MAAD,CAAT;AATQ,6CAUD,IAVC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAD,IAYN,EAZM,CAAT;;AAcA,MAAMgB,SAAS;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACbd,YAAY,CAACC,OAAb,CAAqB,QAArB,CADa;AAAA;AAAA;AAAA;;AAEhBF,cAAAA,SAAS,CAACC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAD,CAAT;AAFgB;AAAA;;AAAA;AAAA;AAAA,qBAIGC,KAAK,WAAIC,OAAO,CAACC,GAAR,CAAYC,OAAhB,aAAL,CACjBC,IADiB,CACZ,UAACC,GAAD;AAAA,uBAASA,GAAG,CAACC,IAAJ,EAAT;AAAA,eADY,WAEX,UAACC,GAAD;AAAA,uBAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT;AAAA,eAFW,CAJH;;AAAA;AAIVG,cAAAA,IAJU;AAOhBZ,cAAAA,YAAY,CAACa,OAAb,CAAqB,QAArB,EAA+BD,IAA/B;AACAb,cAAAA,SAAS,CAACD,MAAD,CAAT;;AARgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATgB,SAAS;AAAA;AAAA;AAAA,KAAf;;AAYA,sBACC,QAAC,mBAAD,CAAqB,QAArB;AACC,IAAA,KAAK,EAAE;AAAElB,MAAAA,SAAS,EAATA,SAAF;AAAaC,MAAAA,YAAY,EAAZA,YAAb;AAA2BC,MAAAA,MAAM,EAANA,MAA3B;AAAmCgB,MAAAA,SAAS,EAATA;AAAnC,KADR;AAAA,cAGEnB;AAHF;AAAA;AAAA;AAAA;AAAA,UADD;AAOA;;GArCeD,oB;;KAAAA,oB","sourcesContent":["import React, { useState, createContext, useEffect } from 'react';\n\nexport const TransparentaContext = createContext();\n\nexport function TransparentaProvider({ children }) {\n\tconst [transOpen, setTransOpen] = useState(false);\n\tconst [footer, setFooter] = useState(null);\n\n\tuseEffect(async () => {\n\t\tif (localStorage.getItem('footer')) {\n\t\t\tsetFooter(localStorage.getItem('footer'));\n\t\t\treturn null;\n\t\t} else {\n\t\t\tconst data = await fetch(`${process.env.API_URL}/footer`)\n\t\t\t\t.then((res) => res.json())\n\t\t\t\t.catch((err) => console.log(err));\n\t\t\tlocalStorage.setItem('footer', data);\n\t\t\tsetFooter(footer);\n\t\t\treturn null;\n\t\t}\n\t}, []);\n\n\tconst getFooter = async () => {\n\t\tif (localStorage.getItem('footer')) {\n\t\t\tsetFooter(localStorage.getItem('footer'));\n\t\t} else {\n\t\t\tconst data = await fetch(`${process.env.API_URL}/footer`)\n\t\t\t\t.then((res) => res.json())\n\t\t\t\t.catch((err) => console.log(err));\n\t\t\tlocalStorage.setItem('footer', data);\n\t\t\tsetFooter(footer);\n\t\t}\n\t};\n\n\treturn (\n\t\t<TransparentaContext.Provider\n\t\t\tvalue={{ transOpen, setTransOpen, footer, getFooter }}\n\t\t>\n\t\t\t{children}\n\t\t</TransparentaContext.Provider>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}